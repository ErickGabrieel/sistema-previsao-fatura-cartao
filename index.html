<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>PrevisÃ£o de Fatura</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container">

    <h1>PrevisÃ£o de Fatura</h1>

    <div class="input-group">
        <span>ğŸ“…</span>
        <input type="date" id="dataCompra">
    </div>

    <div class="input-group">
        <span>ğŸ”’</span>
        <input type="number" placeholder="Dia de Fechamento" id="fechamento">
    </div>

    <div class="input-group">
        <span>ğŸ’³</span>
        <input type="number" placeholder="Dia de Vencimento" id="vencimento">
    </div>

    <button onclick="calcular()">Calcular</button>

    <h2 id="resultado"></h2>

</div>

<script>
function calcular() {
  const dataStr = document.getElementById("dataCompra").value;
  const fechamento = parseInt(document.getElementById("fechamento").value, 10);
  const vencimento = parseInt(document.getElementById("vencimento").value, 10);

  if (!dataStr || isNaN(fechamento) || isNaN(vencimento)) {
    document.getElementById("resultado").innerText = "Preencha todos os campos.";
    return;
  }

  const compra = new Date(dataStr + "T00:00:00");
  const diaCompra = compra.getDate();

  let mes = compra.getMonth();   // 0-11
  let ano = compra.getFullYear();

  // REGRA DO CARTÃƒO:
  // 1..(fechamento-1) => vence no mesmo mÃªs
  // fechamento..fim do mÃªs => vence no prÃ³ximo mÃªs
  if (diaCompra >= fechamento) {
    mes += 1;
    if (mes > 11) { mes = 0; ano += 1; }
  }

  const dataVenc = new Date(ano, mes, vencimento);

  document.getElementById("resultado").innerText =
    "Essa compra vencerÃ¡ em: " + dataVenc.toLocaleDateString("pt-BR");
}
</script>
}
</script>

</body>
</html>
